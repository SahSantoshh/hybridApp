<ion-view>
  <div class="bar bar-header bar-assertive">
		<button class="button button-icon icon ion-navicon" menu-toggle="left"></button>
		<div class="h1 title">Locations</div>
		<button class="button button-icon button-clear ion-heart"></button>
	</div>

  <div class="bar bar-subheader item-input-inset">
    <label class="item-input-inset">
      <i class="icon ion-ios-search placeholder-icon"></i>
      <input type="search" placeholder="Search..." ng-model="searchText" ng-change="searchTestChanged()"/>
    </label>
  </div>

  <ion-content class="has-subheader" delegate-handle="mainScroll">
  <ion-refresher
    pulling-text="Pull to refresh"
    on-refresh="doRefresh()">
  </ion-refresher>

    <ion-list can-swipe="true">
      <ion-item class="item item-thumbnail-left item-text-wrap item-icon-right" ng-repeat="post in recent_posts | filter: {title: searchText}" href="#/main/postDetail/{{post.id}}">
        <img ng-src="{{ post.thumbnail }}"/>
        <h2>{{ post.title }}</h2>
        <p ng-bind-html="post.excerpt"></p>

        <ion-option-button class="button-dark" ng-click="toggleFavorite(post)">
          <i class="icon ion-heart"></i>
        </ion-option-button>

      </ion-item>
    </ion-list>
    <ion-infinate-scroll ng-if="canLoadMore()"
      ion-infinate="loadMore()">
    </ion-infinate-scroll>

  </ion-content>
</ion-view>
